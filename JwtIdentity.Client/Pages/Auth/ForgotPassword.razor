@page "/forgot-password"
@inherits ForgotPasswordModel

<PageTitle>Survey Shark - Forgot Password</PageTitle>

<MudCard Class="mt-3 pa-4" Style="max-width: 500px; margin: auto;">
    <MudCardHeader>
        <MudText Typo="Typo.h5">Reset Password</MudText>
    </MudCardHeader>
    <MudCardContent>
        <MudText Typo="Typo.body2" Class="mb-4">Enter your email address and we'll send you a link to reset your password.</MudText>
        
        <EditForm Model="forgotPasswordModel" OnValidSubmit="HandleForgotPassword">
            <DataAnnotationsValidator />
            <MudTextField @bind-Value="forgotPasswordModel.Email" 
                         Label="Email" 
                         InputType="InputType.Email" 
                         Required="true"
                         RequiredError="Email is required" 
                         Class="mb-3" />
            
            <MudButton ButtonType="ButtonType.Submit" 
                      Variant="Variant.Filled" 
                      Color="Color.Primary" 
                      FullWidth="true"
                      Disabled="@isProcessing">
                @if (isProcessing)
                {
                    <MudProgressCircular Class="ms-n1" Size="MudBlazor.Size.Small" Indeterminate="true" />
                    <MudText Class="ms-2">Processing</MudText>
                }
                else
                {
                    <MudText>Send Reset Link</MudText>
                }
            </MudButton>
        </EditForm>
    </MudCardContent>
    <MudCardActions>
        <MudLink Href="/login">Back to Login</MudLink>
    </MudCardActions>
</MudCard>