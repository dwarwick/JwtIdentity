@page "/reset-password"
@inherits ResetPasswordModel

<MudCard Class="mt-3 pa-4" Style="max-width: 500px; margin: auto;">
    <MudCardHeader>
        <MudText Typo="Typo.h5">Reset Your Password</MudText>
    </MudCardHeader>
    <MudCardContent>
        <MudText Typo="Typo.body2" Class="mb-4">Enter your new password below.</MudText>
        
        <EditForm Model="resetPasswordModel" OnValidSubmit="HandleResetPassword">
            <DataAnnotationsValidator />
            <ValidationSummary />
            
            <MudTextField @bind-Value="resetPasswordModel.Password" 
                         Label="New Password" 
                         InputType="InputType.Password"
                         Required="true"
                         RequiredError="Password is required"
                         Class="mb-3" />
                         
            <MudTextField @bind-Value="resetPasswordModel.ConfirmPassword" 
                         Label="Confirm Password" 
                         InputType="InputType.Password"
                         Required="true"
                         RequiredError="Confirm password is required"
                         Class="mb-3" />
            
            <MudButton ButtonType="ButtonType.Submit" 
                      Variant="Variant.Filled" 
                      Color="Color.Primary" 
                      FullWidth="true"
                      Disabled="@isProcessing">
                @if (isProcessing)
                {
                    <MudProgressCircular Class="ms-n1" Size="MudBlazor.Size.Small" Indeterminate="true" />
                    <MudText Class="ms-2">Processing</MudText>
                }
                else
                {
                    <MudText>Reset Password</MudText>
                }
            </MudButton>
        </EditForm>
    </MudCardContent>
</MudCard>